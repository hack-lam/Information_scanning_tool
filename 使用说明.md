# 信息收集工具 v2.0 使用说明

## 🎯 快速上手

### 第一步：启动工具

#### 方法一：双击启动（Windows推荐）
```
双击 start.bat 文件
```

#### 方法二：Python启动
```bash
python run.py
```

### 第二步：访问Web界面
- 启动后会自动打开浏览器
- 或手动访问：http://localhost:5000

### 第三步：开始扫描
1. 选择扫描功能
2. 输入目标域名
3. 配置扫描参数
4. 点击开始扫描

## 📋 功能详解

### 🏠 首页
- 工具概览和功能介绍
- 快速入口链接
- 使用统计信息
- 最近扫描记录

### 🔍 基础信息收集
**功能：** 获取域名基础信息

**使用步骤：**
1. 访问 "信息收集" → "基础信息收集"
2. 输入目标域名（如：example.com）
3. 选择查询模块：
   - Whois信息查询
   - CDN检测
   - ICP备案查询
4. 点击"开始查询"

**结果说明：**
- **Whois信息**: 域名注册信息、注册商、到期时间
- **CDN检测**: 是否使用CDN，CDN服务商
- **ICP备案**: 备案号、备案单位、备案状态

### 🌐 子域名爆破
**功能：** 发现目标域名的子域名

**使用步骤：**
1. 访问 "信息收集" → "子域名爆破"
2. 输入目标域名
3. 选择字典类型：
   - **内置字典**: 约70个常用子域名，速度快
   - **大字典**: 9.5万个子域名，更全面但耗时更长
4. 设置线程数（建议20-50，大字典建议不超过30）
5. 选择附加功能：
   - 获取IP归属地
   - Web指纹识别
6. 点击"开始扫描"

**字典说明：**
- **内置字典**: 包含常用的www、mail、admin等约70个子域名
- **大字典**: 包含9.5万个子域名，来源于subnames-9.5w.txt文件
- **扫描时间**: 内置字典通常几秒完成，大字典可能需要几分钟到几十分钟

**结果说明：**
- **子域名**: 发现的有效子域名
- **IP地址**: 子域名解析的IP
- **归属地**: IP地址的地理位置
- **指纹信息**: Web服务器和框架类型

### 📁 目录扫描
**功能：** 扫描Web应用的敏感目录和文件

**使用步骤：**
1. 访问 "信息收集" → "目录扫描"
2. 输入目标URL（如：http://example.com）
3. 设置扫描参数：
   - 线程数（建议10-30）
   - 状态码过滤
   - 是否扫描敏感文件
4. 点击"开始扫描"

**结果说明：**
- **URL**: 发现的目录或文件地址
- **状态码**: HTTP响应状态码
- **大小**: 响应内容大小
- **标题**: 页面标题（如果有）

### 🛰️ FOFA搜索
**功能：** 使用FOFA搜索引擎发现网络资产

**使用步骤：**
1. 访问 "空间测绘" → "FOFA搜索"
2. 输入搜索语法，例如：
   ```
   domain="example.com"
   title="管理后台"
   port="443"
   ```
3. 设置结果数量
4. 点击"开始搜索"

**常用语法：**
- `domain="example.com"` - 搜索指定域名
- `ip="1.1.1.1"` - 搜索指定IP
- `port="80"` - 搜索指定端口
- `title="登录"` - 搜索页面标题
- `header="nginx"` - 搜索HTTP头

### 🌊 Quake搜索
**功能：** 使用360 Quake搜索引擎发现网络资产

**使用步骤：**
1. 访问 "空间测绘" → "Quake搜索"
2. 输入搜索语法，例如：
   ```
   domain: "example.com"
   service: "http"
   port: 443
   ```
3. 设置结果数量和时间范围
4. 点击"开始搜索"

**常用语法：**
- `domain: "example.com"` - 搜索指定域名
- `ip: "1.1.1.1"` - 搜索指定IP
- `port: 80` - 搜索指定端口
- `service: "http"` - 搜索指定服务
- `app: "nginx"` - 搜索应用类型

### 🔧 综合扫描
**功能：** 一键执行所有扫描功能

**使用步骤：**
1. 访问 "综合扫描"
2. 输入目标域名
3. 选择扫描模块：
   - 子域名爆破
   - 目录扫描
   - FOFA搜索
   - Quake搜索
4. 如果启用子域名爆破，选择字典类型：
   - 内置字典（快速）
   - 大字典（全面）
5. 设置线程数
6. 点击"开始扫描"

**特点：**
- 实时进度显示
- 分模块结果展示
- 自动生成综合报告
- 支持结果导出
- 智能字典选择

### 📊 扫描结果
**功能：** 查看和管理所有扫描记录

**功能特性：**
- 任务列表和状态
- 结果详情查看
- 结果导出下载
- 任务删除管理
- 搜索和过滤

## 🎮 操作技巧

### 搜索和过滤
1. **结果过滤**: 在结果页面使用过滤器
2. **关键词搜索**: 在搜索框输入关键词
3. **状态筛选**: 按任务状态筛选
4. **类型筛选**: 按扫描类型筛选

### 结果导出
1. **JSON格式**: 完整的结构化数据
2. **CSV格式**: 适合Excel处理
3. **单个导出**: 导出单个任务结果
4. **批量导出**: 批量导出多个任务

### 快捷操作
- **Ctrl + Enter**: 快速提交表单
- **ESC**: 关闭模态框
- **F5**: 刷新页面
- **主题切换**: 点击右上角月亮/太阳图标

## ⚙️ 高级设置

### 性能调优
1. **线程数设置**:
   - 子域名爆破: 20-50（推荐30）
   - 目录扫描: 10-30（推荐20）
   - 过高可能被目标限制

2. **超时设置**:
   - 网络超时: 10秒
   - DNS超时: 5秒
   - 可在源码中调整

### API配置
1. **FOFA API**:
   - 邮箱: li1u888@163.com
   - 密钥: 80cb74dd36424e570a36c19a7601b8a0
   
2. **Quake API**:
   - 密钥: 42203ab4-20e1-404e-8ca7-448f9e852a84

3. **修改配置**:
   ```python
   # 在 info_collector.py 中修改
   self.fofa_email = "your_email"
   self.fofa_key = "your_key"
   self.quake_key = "your_key"
   ```

### 字典配置
1. **子域名字典类型**:
   - **内置字典**: 约70个常用子域名，适合快速扫描
   - **大字典**: 9.5万个子域名（subnames-9.5w.txt），适合深度扫描
   - **自定义字典**: 可通过命令行指定自定义字典文件

2. **字典文件格式**:
   ```
   www
   mail
   admin
   test
   api
   ...
   ```
   每行一个子域名，无需包含主域名

3. **命令行字典选择**:
   ```bash
   # 使用内置字典
   python info_collector.py -t example.com --dict builtin
   
   # 使用大字典
   python info_collector.py -t example.com --dict large
   
   # 使用自定义字典
   python info_collector.py -t example.com --dict-path my_dict.txt
   ```

4. **扩展内置字典**:
   ```python
   # 在 info_collector.py 中的 subdomain_dict_builtin 列表添加
   self.subdomain_dict_builtin.extend(['api', 'dev', 'test'])
   ```

5. **目录字典扩展**:
   ```python
   # 在 info_collector.py 中的 directory_dict 列表添加
   self.directory_dict.extend(['backup', 'admin', 'login'])
   ```

## 🐛 常见问题

### 启动问题
**Q: 提示端口已被占用**
```bash
# 修改端口
python app.py  # 在代码中修改port参数
```

**Q: 依赖包安装失败**
```bash
# 使用镜像源
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

### 扫描问题
**Q: 子域名扫描结果少**
- 增加字典内容
- 尝试不同的DNS服务器
- 检查网络连接

**Q: 目录扫描被拦截**
- 降低线程数
- 增加请求间隔
- 更换User-Agent

**Q: API搜索无结果**
- 检查API密钥是否有效
- 确认搜索语法正确
- 查看API调用限制

### 性能问题
**Q: 扫描速度慢**
- 适当增加线程数
- 检查网络带宽
- 优化目标选择

**Q: 内存占用高**
- 减少线程数
- 分批处理大量目标
- 定期清理结果

## 📱 移动端使用

### 响应式支持
- 自动适配手机屏幕
- 触摸友好的操作界面
- 简化的移动端菜单

### 移动端特色
- 滑动操作
- 长按菜单
- 手势导航
- 离线缓存

## 🔒 安全建议

### 合法使用
1. **授权扫描**: 仅对自己拥有或获得授权的目标进行扫描
2. **遵守法律**: 遵守当地网络安全法律法规
3. **道德使用**: 不用于恶意攻击或非法活动

### 防护建议
1. **网络环境**: 在安全的网络环境中使用
2. **数据保护**: 妥善保管扫描结果
3. **访问控制**: 限制工具访问权限

## 📞 技术支持

### 获取帮助
- **在线文档**: 查看详细文档
- **社区论坛**: 参与讨论交流
- **邮件支持**: support@example.com
- **问题反馈**: GitHub Issues

### 常用资源
- **官方网站**: https://example.com
- **用户手册**: 在线版本
- **视频教程**: B站/YouTube
- **更新日志**: 查看最新变化

---

**祝您使用愉快！如有问题，随时联系我们。** 🎉
